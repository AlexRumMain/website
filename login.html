<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blush Boys — Вход</title>
  <link rel="stylesheet" href="assets/style.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="assets/script.js"></script>
</head>
<body>

<div class="container" style="min-height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;">
  <img src="https://i.ibb.co.com/0jKX7Lz/blushboys-logo.png" alt="Blush Boys" class="logo" style="height:100px;margin-bottom:30px;">

  <div style="background:rgba(255,255,255,0.04);padding:50px 60px;border-radius:20px;border:1px solid rgba(255,255,255,0.1);backdrop-filter:blur(10px);max-width:420px;width:100%;">
    <h1 style="text-align:center;margin-bottom:40px;font-size:36px;">Вход в кабинет</h1>

    <input type="email" id="email" placeholder="Email" class="input"><br><br>
    <input type="password" id="pass" placeholder="Пароль" class="input"><br><br><br>

    <button class="btn" onclick="login()" style="width:100%;padding:16px;font-size:18px;">Войти</button>

    <p style="text-align:center;margin-top:30px;color:#94a3b8;">
      Нет аккаунта? <a href="#" onclick="alert('Напиши владельцу — он создаст тебе доступ')" style="color:var(--primary)">напиши владельцу</a>
    </p>
  </div>

  <p style="margin-top:50px;color:#64748b;">© 2025 Blush Boys Agency</p>
</div>

<script>
async function login() {
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('pass').value;

  if (!email || !password) return alert('Заполни все поля');

  const { data, error = await supabase.auth.signInWithPassword({ email, password });

  if (error) {
    alert('Ошибка входа: ' + error.message);
  } else {
    redirectByRole();
  }
}

// Enter → вход
document.addEventListener('keypress', e => { if (e.key === 'Enter') login(); });
</script>

</body>
</html>
